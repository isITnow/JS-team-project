{"mappings":"AACA,MAAMA,EAAcC,SAASC,cAAc,kBAEpC,SAASC,EAAoBC,GAChC,MAAMC,EAASD,EAAIE,QACjB,CACEC,GACAC,GAAEA,EAAEC,YAAEA,EAAWC,KAAEA,EAAIC,MAAEA,EAAKC,aAAEA,EAAYC,aAAEA,EAAYC,UAAEA,MAE5D,MAAMC,EAAgB,GAOtB,OANeC,KAAKC,MAAMC,aAAaC,QAAQ,eACxCC,SAAQC,IACTP,EAAUQ,SAASD,EAAKb,KAC1BO,EAAcQ,KAAKF,EAAKX,SAI1BH,EACA,gCAAgCC,wIAE0CC,WACxEE,GAASD,8DAEsBC,GAASD,4BACjCK,EAAcS,OAAO,EAAET,EAAeU,OAAO,EAAE,GAAGC,KAAK,MAAQ,WAAWX,EAAcW,KAAK,4DAChEd,EAAae,MAAM,EAAG,2DACpBd,EAAae,QAAQ,oDAKjE,IAEF5B,EAAY6B,UAAYxB,EC9BrB,IAAuByB,EAYrBC,MAAM,yGACVC,MAAKC,IACJ,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,QAEvB,OAAOH,EAAKI,UAEbC,OAAMC,GAASC,QAAQC,IAAIF,KCjBlBP,MAAKU,GACjBxB,aAAayB,QAAQ,aAAc3B,KAAK4B,UAAUF,EAAKG,YDH3Bf,ECCnB,EDAFC,MAAM,mGAAoDD,KAC9DE,MAAKC,IACJ,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,QAEvB,OAAOH,EAAKI,UAEbC,OAAMC,GAASC,QAAQC,IAAIF,MCHZP,MAAKU,GAAQvC,EAAoBuC,EAAKI,WCRzD,MACC,MAAMC,EAAO,CACXC,aAAc/C,SAASC,cAAc,qBACrC+C,cAAehD,SAASC,cAAc,sBACtCgD,MAAOjD,SAASC,cAAc,iBAMhC,SAASiD,IACPJ,EAAKG,MAAME,UAAUC,OAAO,aAJ9BN,EAAKC,aAAaM,iBAAiB,QAASH,GAC5CJ,EAAKE,cAAcK,iBAAiB,QAASH,IAR9C","sources":["src/js/home/renderGalleryMarkup.js","src/js/api/fetch.js","src/js/home/filmsByPopular.js","src/js/modal/modal-footer.js"],"sourcesContent":["\nconst galleryItem = document.querySelector('.gallery__list');\n\nexport function renderGalleryMarkup(arr) {\n    const markup = arr.reduce(\n      (\n        acc,\n        { id, poster_path, name, title, release_date, vote_average, genre_ids }\n      ) => {\n        const currentGenres = [];\n        const genres = JSON.parse(localStorage.getItem('genresData'));\n        genres.forEach(item => {\n          if (genre_ids.includes(item.id)) {\n            currentGenres.push(item.name);\n          }\n        });\n        return (\n          acc +\n          `<li class=\"gallery__item\" id=${id}>\n          <a class=\"gallery__link\" href=\"//\">\n              <img class=\"gallery__image\" src=\"https://image.tmdb.org/t/p/original${poster_path}\" alt=\"${\n            title || name\n          }\" width=\"100\"/>\n              <h2 class=\"gallery__title\">${title || name}</h2>\n              <p>${currentGenres.length>3?(currentGenres.splice(0,2).join(', '))+ ', Others':currentGenres.join(', ')}</p>\n                  <p class=\"gallery__release\">${release_date.slice(0, 4)}</p>\n                  <span class=\"gallery__rating\">${vote_average.toFixed(1)}</span>\n           </a>\n              </li>`\n        );\n      },\n      ''\n    );\n    galleryItem.innerHTML = markup;\n  }","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'api_key=d70849b39c7b399ded2dffef6ee1baa4';\n\nexport function fetchTrending(page) {\n  return fetch(`${BASE_URL}/trending/movie/week?&${API_KEY}&page=${page}`)\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error(resp.status);\n      }\n      return resp.json();\n    })\n    .catch(error => console.log(error));\n}\n\nexport function fetchGenres() {\n  return fetch(`${BASE_URL}/genre/movie/list?${API_KEY}&language=en-US`)\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error(resp.status);\n      }\n      return resp.json();\n    })\n    .catch(error => console.log(error));\n}\n\nexport function fethByQuery(query, page) {\n  return fetch(\n    `${BASE_URL}/search/movie?${API_KEY}&language=en-US&page=${page}&include_adult=false&query=${query}`\n  )\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error(resp.status);\n      }\n      return resp.json();\n    })\n    .catch(error => console.log(error));\n}\n\nexport function fetchByID(id) {\n  return fetch(`${BASE_URL}/movie/${id}?${API_KEY}&language=en-US`)\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error(resp.status);\n      }\n      return resp.json();\n    })\n    .catch(error => console.log(error));\n}\n","import { fetchTrending } from '../api/fetch';\nimport { fetchGenres } from '../api/fetch';\nimport { renderGalleryMarkup } from './renderGalleryMarkup';\n\nlet page = 1;\nfetchGenres().then(data =>\n  localStorage.setItem('genresData', JSON.stringify(data.genres))\n);\nfetchTrending(page).then(data => renderGalleryMarkup(data.results));\n","(() => {\n  const refs = {\n    openModalBtn: document.querySelector('[data-modal-open]'),\n    closeModalBtn: document.querySelector('[data-modal-close]'),\n    modal: document.querySelector('[data-modal]'),\n  };\n\n  refs.openModalBtn.addEventListener('click', toggleModal);\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n\n  function toggleModal() {\n    refs.modal.classList.toggle('is-hidden');\n  }\n})();\n"],"names":["$f727f38f9d229487$var$galleryItem","document","querySelector","$f727f38f9d229487$export$49cc6998e897f16d","arr","markup","reduce","acc","id","poster_path","name","title","release_date","vote_average","genre_ids","currentGenres","JSON","parse","localStorage","getItem","forEach","item","includes","push","length","splice","join","slice","toFixed","innerHTML","page","fetch","then","resp","ok","Error","status","json","catch","error","console","log","data","setItem","stringify","genres","results","refs","openModalBtn","closeModalBtn","modal","toggleModal","classList","toggle","addEventListener"],"version":3,"file":"index.b2ffa28d.js.map"}