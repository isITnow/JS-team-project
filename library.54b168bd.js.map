{"mappings":"iiBACAA,EAAA,S,+BCAAC,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAiBC,GAEb,OAAOA,GAAOA,EAAIC,cAAgBC,OAAS,gBAAkBF,G,0DCA3DG,G,aADcC,SAASC,cAAc,kBAC5BD,SAASE,iBAAiB,qBACnCC,EAAiBH,SAASC,cAAc,0BACxCG,EAAUJ,SAASC,cAAc,iBAShC,SAASI,I,IAAoBC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAAQA,UAAA,GAAD,EACzC,GAAKE,aAAaC,QAAQ,iBAA1B,CAIA,IAAMC,EAA4BC,KAAKC,MACrCJ,aAAaC,QAAQ,kBAEnBI,EAAcC,KAAKC,KAAKL,EAA0BH,OAAS,GAC/DS,QAAQC,SAAsB,IAAXJ,EAAW,YAAlBK,EAAA1B,EAAA,CAAOqB,IACnB,IAAIM,EAAyBC,EAC3Bf,EACAQ,EACAH,GAEFM,QAAQC,IAAIE,IACZ,EAAAE,EAAAC,qBAAoBH,EAAwB,iBAC5C,EAAAI,EAAAC,kBAAiBnB,EAAMc,EAAwBN,QAf7C,EAAAQ,EAAAI,sBAsCJ,SAASC,EAAaC,GACpBtB,KAAOuB,OAAOD,EAAEE,cAAcC,QAAQzB,MACtCD,EAAoBC,MAYtB,SAASe,EAAef,EAAMQ,EAAaH,GACzCM,QAAQC,IAAIP,GACZ,IAAIqB,EAAM,EACNC,EAAQ,EACR3B,IAASQ,GAAwB,IAATR,IAC1B2B,GAAgBD,EAChBA,EAAMrB,EAA2BH,OAAS,EAAKwB,GAEjD,IAAIE,EAAM,GACVjB,QAAQC,IAAIe,EAAOD,EAAKrB,EAA0BH,QAClD,IAAK,IAAI2B,EAAIF,EAAOE,EAAIH,EAAKG,IAC3BD,EAAIE,KAAKzB,EAA0BwB,IAErC,OAAOD,EA1ET/B,EAAekC,iBAAiB,SAmDhC,SAA6BT,GAG3B,GAFAA,EAAEU,iBAEwB,OAAtBV,EAAEW,OAAOC,SACX,OAGFnC,EAAoBC,SAzDtBF,EAAQiC,iBAAiB,SA0BzB,SAAuBT,GACrB,GAAIA,EAAEW,OAAOE,UAAUC,SAAS,iBAC9B,GAAIjC,aAAaC,QAAQ,iBAAkB,CACzC,IAAMiC,EAAgB/B,KAAKC,MAAMJ,aAAaC,QAAQ,mBACtD,EAAAY,EAAAC,qBAAoBoB,EAAe,qBAEnC,EAAArB,EAAAI,sBAIJ,GAAIE,EAAEW,OAAOE,UAAUC,SAAS,eAC9B,GAAIjC,aAAaC,QAAQ,eAAgB,CACvC,IAAMkC,EAAchC,KAAKC,MAAMJ,aAAaC,QAAQ,iBACpD,EAAAY,EAAAC,qBAAoBqB,EAAa,mBAEjC,EAAAtB,EAAAI,yBAvCN3B,EAAO8C,SAAQ,SAAAC,GACbA,EAAIT,iBAAiB,QAASV,MFPhCtB,I","sources":["src/library.js","node_modules/@swc/helpers/lib/_type_of.js","src/js/library/libraryFunctions.js"],"sourcesContent":["// import './js/pagination/pagination';\nimport './js/library/local-storage-theme';\nimport './js/spinner';\nimport './js/modal/modal-footer';\nimport {libraryMovieCreator} from './js/library/libraryFunctions';\n\n\n\nlibraryMovieCreator()\n\n\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _typeof;\nfunction _typeof(obj) {\n    \"@swc/helpers - typeof\";\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n}\n;\n","import { renderGalleryMarkup } from '../home/renderGalleryMarkup';\nimport { renderDefaulMarkup } from '../home/renderGalleryMarkup';\n\nimport { renderMovieMarkup } from '../renderModal';\nimport '../pagination/pagination';\nimport { renderPagination } from '../pagination/pagination';\nconst galleryList = document.querySelector('.gallery__list');\nconst myBtns = document.querySelectorAll('.pagination__btn');\nconst paginationList = document.querySelector('.pagination__container');\nconst btnsLib = document.querySelector('.buttons-list');\n\npaginationList.addEventListener('click', onClickMyPagination);\nbtnsLib.addEventListener('click', onLibBtnClick);\n\nmyBtns.forEach(btn => {\n  btn.addEventListener('click', onClickMyBtn);\n});\n\nexport function libraryMovieCreator(page = 1) {\n  if (!localStorage.getItem('watchedMovies')) {\n    renderDefaulMarkup();\n    return;\n  }\n  const allItemsFromLocaleStorage = JSON.parse(\n    localStorage.getItem('watchedMovies')\n  );\n  let total_pages = Math.ceil(allItemsFromLocaleStorage.length / 9);\n  console.log(typeof total_pages);\n  let itemsFromLocaleStorage = getItemsByPage(\n    page,\n    total_pages,\n    allItemsFromLocaleStorage\n  );\n  console.log(itemsFromLocaleStorage);\n  renderGalleryMarkup(itemsFromLocaleStorage, 'data-watched');\n  renderPagination(page, itemsFromLocaleStorage, total_pages);\n}\n\nfunction onLibBtnClick(e) {\n  if (e.target.classList.contains('js-watchedBtn')) {\n    if (localStorage.getItem('watchedMovies')) {\n      const parsedWatched = JSON.parse(localStorage.getItem('watchedMovies'));\n      renderGalleryMarkup(parsedWatched, 'data-watched');\n    } else {\n      renderDefaulMarkup();\n    }\n  }\n\n  if (e.target.classList.contains('js-queueBtn')) {\n    if (localStorage.getItem('queueMovies')) {\n      const parsedQueue = JSON.parse(localStorage.getItem('queueMovies'));\n      renderGalleryMarkup(parsedQueue, 'data-queue');\n    } else {\n      renderDefaulMarkup();\n    }\n  }\n}\n\nfunction onClickMyBtn(e) {\n  page = Number(e.currentTarget.dataset.page);\n  libraryMovieCreator(page);\n}\nfunction onClickMyPagination(e) {\n  e.preventDefault();\n  // scrollToTop();\n  if (e.target.nodeName !== 'LI') {\n    return;\n  }\n\n  libraryMovieCreator(page);\n}\n\nfunction getItemsByPage(page, total_pages, allItemsFromLocaleStorage) {\n  console.log(allItemsFromLocaleStorage);\n  let end = 9;\n  let start = 0;\n  if (page === total_pages && page !== 1) {\n    start = start + end;\n    end = (allItemsFromLocaleStorage.length % 9) + end;\n  }\n  let arr = [];\n  console.log(start, end, allItemsFromLocaleStorage.length);\n  for (let i = start; i < end; i++) {\n    arr.push(allItemsFromLocaleStorage[i]);\n  }\n  return arr;\n}\n"],"names":["parcelRequire","Object","defineProperty","$f59351132b4b3cee$exports","value","default","obj","constructor","Symbol","$d82793e3178ffec1$var$myBtns","document","querySelector","querySelectorAll","$d82793e3178ffec1$var$paginationList","$d82793e3178ffec1$var$btnsLib","$d82793e3178ffec1$export$4a2b9da746179d46","page","arguments","length","localStorage","getItem","allItemsFromLocaleStorage","JSON","parse","total_pages","Math","ceil","console","log","$parcel$interopDefault","itemsFromLocaleStorage","$d82793e3178ffec1$var$getItemsByPage","$1uIgm","renderGalleryMarkup","$bOuzt","renderPagination","renderDefaulMarkup","$d82793e3178ffec1$var$onClickMyBtn","e","Number","currentTarget","dataset","end","start","arr","i","push","addEventListener","preventDefault","target","nodeName","classList","contains","parsedWatched","parsedQueue","forEach","btn"],"version":3,"file":"library.54b168bd.js.map"}