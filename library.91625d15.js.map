{"mappings":"oeACAA,EAAA,S,sBCDA,IAAAC,EAAAD,EAAA,S,yCAIoBE,SAASC,cAAc,kBAA3C,MACMC,EAASF,SAASG,iBAAiB,oBACnCC,EAAiBJ,SAASC,cAAc,0BACxCI,EAAUL,SAASC,cAAc,iBAQhC,SAASK,EAAoBC,EAAO,GACzC,IAAKC,aAAaC,QAAQ,iBACxB,OAEF,MAAMC,EAA4BC,KAAKC,MAAMJ,aAAaC,QAAQ,kBAClE,IAAII,EAAeC,KAAKC,KAAKL,EAA0BM,OAAS,GAChEC,QAAQC,WAAWL,GACnB,IAAIM,EAqCN,SAAwBZ,EAAKM,EAAYH,GACxCO,QAAQC,IAAIR,GACZ,IAAIU,EAAM,EACNC,EAAQ,EACTd,IAASM,GAAwB,IAATN,IACxBc,GAAgBD,EAChBA,EAAMV,EAA0BM,OAAS,EAAII,GAE/C,IAAIE,EAAM,GACVL,QAAQC,IAAIG,EAAMD,EAAKV,EAA0BM,QAC/C,IAAI,IAAIO,EAAIF,EAAOE,EAAIH,EAAKG,IAC1BD,EAAIE,KAAKd,EAA0Ba,IAEvC,OAAOD,EAlDsBG,CAAelB,EAAKM,EAAYH,GAC7DO,QAAQC,IAAIC,IACZ,EAAApB,EAAA2B,qBAAoBP,EAAwB,iBAC5C,EAAAQ,EAAAC,kBAAiBrB,EAAKY,EAAwBN,GAoBhD,SAASgB,EAAaC,GACpBvB,KAAOwB,OAAOD,EAAEE,cAAcC,QAAQ1B,MACtCD,EAAoBC,MAtCtBH,EAAe8B,iBAAiB,SAwChC,SAA6BJ,GAG3B,GAFAA,EAAEK,iBAEwB,OAAtBL,EAAEM,OAAOC,SACX,OAGF/B,EAAoBC,SA9CtBF,EAAQ6B,iBAAiB,SAmBzB,SAAuBJ,GACrB,GAAIA,EAAEM,OAAOE,UAAUC,SAAS,kBAC1B/B,aAAaC,QAAQ,iBAAkB,CACzC,MAAM+B,EAAgB7B,KAAKC,MAAMJ,aAAaC,QAAQ,mBACtD,EAAAV,EAAA2B,qBAAoBc,EAAe,gBAIvC,GAAIV,EAAEM,OAAOE,UAAUC,SAAS,gBAC1B/B,aAAaC,QAAQ,eAAgB,CACvC,MAAMgC,EAAc9B,KAAKC,MAAMJ,aAAaC,QAAQ,iBACpD,EAAAV,EAAA2B,qBAAoBe,EAAa,kBA5BvCvC,EAAOwC,SAAQC,IAAQA,EAAIT,iBAAiB,QAASL,MDJrDvB","sources":["src/library.js","src/js/library/libraryFunctions.js"],"sourcesContent":["// import './js/pagination/pagination';\nimport './js/library/local-storage-theme';\nimport './js/spinner';\nimport './js/modal/modal-footer';\nimport {libraryMovieCreator} from './js/library/libraryFunctions';\n\n\n\nlibraryMovieCreator()\n\n\n\n","import { renderGalleryMarkup } from '../home/renderGalleryMarkup';\nimport { renderMovieMarkup } from '../renderModal';\nimport '../pagination/pagination'\nimport { renderPagination } from '../pagination/pagination';\nconst galleryList = document.querySelector('.gallery__list');\nconst myBtns = document.querySelectorAll('.pagination__btn');\nconst paginationList = document.querySelector('.pagination__container')\nconst btnsLib = document.querySelector('.buttons-list');\n\npaginationList.addEventListener('click', onClickMyPagination);\nbtnsLib.addEventListener('click', onLibBtnClick);\n\nmyBtns.forEach(btn => {btn.addEventListener('click', onClickMyBtn)});\n\n\nexport function libraryMovieCreator(page = 1) {\n  if (!localStorage.getItem('watchedMovies')) {\n    return;\n  }\n  const allItemsFromLocaleStorage = JSON.parse(localStorage.getItem('watchedMovies'));\n  let total_pages =  Math.ceil(allItemsFromLocaleStorage.length / 9)\n  console.log(typeof total_pages)\n  let itemsFromLocaleStorage = getItemsByPage(page,total_pages,allItemsFromLocaleStorage)\n  console.log(itemsFromLocaleStorage)\n  renderGalleryMarkup(itemsFromLocaleStorage, 'data-watched');\n  renderPagination(page,itemsFromLocaleStorage, total_pages)\n\n}\n\nfunction onLibBtnClick(e) {\n  if (e.target.classList.contains('js-watchedBtn')) {\n    if (localStorage.getItem('watchedMovies')) {\n      const parsedWatched = JSON.parse(localStorage.getItem('watchedMovies'));\n      renderGalleryMarkup(parsedWatched, 'data-watched');\n    }\n  }\n\n  if (e.target.classList.contains('js-queueBtn')) {\n    if (localStorage.getItem('queueMovies')) {\n      const parsedQueue = JSON.parse(localStorage.getItem('queueMovies'));\n      renderGalleryMarkup(parsedQueue, 'data-queue');\n    }\n  }\n}\n\nfunction onClickMyBtn(e) {\n  page = Number(e.currentTarget.dataset.page)\n  libraryMovieCreator(page)\n}\nfunction onClickMyPagination(e) {\n  e.preventDefault();\n  // scrollToTop();\n  if (e.target.nodeName !== 'LI') {\n    return;\n  }\n  \n  libraryMovieCreator(page)\n}\n\nfunction getItemsByPage(page,total_pages,allItemsFromLocaleStorage) {\n console.log(allItemsFromLocaleStorage)\n let end = 9\n let start = 0\n if(page === total_pages && page !== 1) {\n    start = start + end\n    end = allItemsFromLocaleStorage.length % 9 + end\n }\n  let arr = []\n  console.log(start,end, allItemsFromLocaleStorage.length)\n    for(let i = start; i < end; i++){\n      arr.push(allItemsFromLocaleStorage[i])\n      }\n  return arr\n}\n\n"],"names":["parcelRequire","$ldBz7","document","querySelector","$f74e8630d9ee671a$var$myBtns","querySelectorAll","$f74e8630d9ee671a$var$paginationList","$f74e8630d9ee671a$var$btnsLib","$f74e8630d9ee671a$export$4a2b9da746179d46","page","localStorage","getItem","allItemsFromLocaleStorage","JSON","parse","total_pages","Math","ceil","length","console","log","itemsFromLocaleStorage","end","start","arr","i","push","$f74e8630d9ee671a$var$getItemsByPage","renderGalleryMarkup","$8huCE","renderPagination","$f74e8630d9ee671a$var$onClickMyBtn","e","Number","currentTarget","dataset","addEventListener","preventDefault","target","nodeName","classList","contains","parsedWatched","parsedQueue","forEach","btn"],"version":3,"file":"library.91625d15.js.map"}