{"mappings":"oeACAA,EAAA,S,sBCDA,IAAAC,EAAAD,EAAA,S,sDAMoBE,SAASC,cAAc,kBAA3C,MACMC,EAASF,SAASG,iBAAiB,oBACnCC,EAAiBJ,SAASC,cAAc,0BACxCI,EAAUL,SAASC,cAAc,iBAShC,SAASK,EAAoBC,EAAO,GACzC,IAAKC,aAAaC,QAAQ,iBAExB,YADA,EAAAV,EAAAW,sBAGF,MAAMC,EAA4BC,KAAKC,MACrCL,aAAaC,QAAQ,kBAEvB,IAAIK,EAAcC,KAAKC,KAAKL,EAA0BM,OAAS,GAC/DC,QAAQC,WAAWL,GACnB,IAAIM,EA4CN,SAAwBb,EAAMO,EAAaH,GACzCO,QAAQC,IAAIR,GACZ,IAAIU,EAAM,EACNC,EAAQ,EACRf,IAASO,GAAwB,IAATP,IAC1Be,GAAgBD,EAChBA,EAAMV,EAA2BM,OAAS,EAAKI,GAEjD,IAAIE,EAAM,GACVL,QAAQC,IAAIG,EAAOD,EAAKV,EAA0BM,QAClD,IAAK,IAAIO,EAAIF,EAAOE,EAAIH,EAAKG,IAC3BD,EAAIE,KAAKd,EAA0Ba,IAErC,OAAOD,EAzDsBG,CAC3BnB,EACAO,EACAH,GAEFO,QAAQC,IAAIC,IACZ,EAAArB,EAAA4B,qBAAoBP,EAAwB,iBAC5C,EAAAQ,EAAAC,kBAAiBtB,EAAMa,EAAwBN,GAuBjD,SAASgB,EAAaC,GACpBxB,KAAOyB,OAAOD,EAAEE,cAAcC,QAAQ3B,MACtCD,EAAoBC,MAjDtBH,EAAe+B,iBAAiB,SAmDhC,SAA6BJ,GAG3B,GAFAA,EAAEK,iBAEwB,OAAtBL,EAAEM,OAAOC,SACX,OAGFhC,EAAoBC,SAzDtBF,EAAQ8B,iBAAiB,SA0BzB,SAAuBJ,GACrB,GAAIA,EAAEM,OAAOE,UAAUC,SAAS,iBAC9B,GAAIhC,aAAaC,QAAQ,iBAAkB,CACzC,MAAMgC,EAAgB7B,KAAKC,MAAML,aAAaC,QAAQ,mBACtD,EAAAV,EAAA4B,qBAAoBc,EAAe,qBAEnC,EAAA1C,EAAAW,sBAIJ,GAAIqB,EAAEM,OAAOE,UAAUC,SAAS,eAC9B,GAAIhC,aAAaC,QAAQ,eAAgB,CACvC,MAAMiC,EAAc9B,KAAKC,MAAML,aAAaC,QAAQ,iBACpD,EAAAV,EAAA4B,qBAAoBe,EAAa,mBAEjC,EAAA3C,EAAAW,yBAvCNR,EAAOyC,SAAQC,IACbA,EAAIT,iBAAiB,QAASL,MDPhCxB","sources":["src/library.js","src/js/library/libraryFunctions.js"],"sourcesContent":["// import './js/pagination/pagination';\nimport './js/library/local-storage-theme';\nimport './js/spinner';\nimport './js/modal/modal-footer';\nimport {libraryMovieCreator} from './js/library/libraryFunctions';\n\n\n\nlibraryMovieCreator()\n\n\n\n","import { renderGalleryMarkup } from '../home/renderGalleryMarkup';\nimport { renderDefaulMarkup } from '../home/renderGalleryMarkup';\n\nimport { renderMovieMarkup } from '../renderModal';\nimport '../pagination/pagination';\nimport { renderPagination } from '../pagination/pagination';\nconst galleryList = document.querySelector('.gallery__list');\nconst myBtns = document.querySelectorAll('.pagination__btn');\nconst paginationList = document.querySelector('.pagination__container');\nconst btnsLib = document.querySelector('.buttons-list');\n\npaginationList.addEventListener('click', onClickMyPagination);\nbtnsLib.addEventListener('click', onLibBtnClick);\n\nmyBtns.forEach(btn => {\n  btn.addEventListener('click', onClickMyBtn);\n});\n\nexport function libraryMovieCreator(page = 1) {\n  if (!localStorage.getItem('watchedMovies')) {\n    renderDefaulMarkup();\n    return;\n  }\n  const allItemsFromLocaleStorage = JSON.parse(\n    localStorage.getItem('watchedMovies')\n  );\n  let total_pages = Math.ceil(allItemsFromLocaleStorage.length / 9);\n  console.log(typeof total_pages);\n  let itemsFromLocaleStorage = getItemsByPage(\n    page,\n    total_pages,\n    allItemsFromLocaleStorage\n  );\n  console.log(itemsFromLocaleStorage);\n  renderGalleryMarkup(itemsFromLocaleStorage, 'data-watched');\n  renderPagination(page, itemsFromLocaleStorage, total_pages);\n}\n\nfunction onLibBtnClick(e) {\n  if (e.target.classList.contains('js-watchedBtn')) {\n    if (localStorage.getItem('watchedMovies')) {\n      const parsedWatched = JSON.parse(localStorage.getItem('watchedMovies'));\n      renderGalleryMarkup(parsedWatched, 'data-watched');\n    } else {\n      renderDefaulMarkup();\n    }\n  }\n\n  if (e.target.classList.contains('js-queueBtn')) {\n    if (localStorage.getItem('queueMovies')) {\n      const parsedQueue = JSON.parse(localStorage.getItem('queueMovies'));\n      renderGalleryMarkup(parsedQueue, 'data-queue');\n    } else {\n      renderDefaulMarkup();\n    }\n  }\n}\n\nfunction onClickMyBtn(e) {\n  page = Number(e.currentTarget.dataset.page);\n  libraryMovieCreator(page);\n}\nfunction onClickMyPagination(e) {\n  e.preventDefault();\n  // scrollToTop();\n  if (e.target.nodeName !== 'LI') {\n    return;\n  }\n\n  libraryMovieCreator(page);\n}\n\nfunction getItemsByPage(page, total_pages, allItemsFromLocaleStorage) {\n  console.log(allItemsFromLocaleStorage);\n  let end = 9;\n  let start = 0;\n  if (page === total_pages && page !== 1) {\n    start = start + end;\n    end = (allItemsFromLocaleStorage.length % 9) + end;\n  }\n  let arr = [];\n  console.log(start, end, allItemsFromLocaleStorage.length);\n  for (let i = start; i < end; i++) {\n    arr.push(allItemsFromLocaleStorage[i]);\n  }\n  return arr;\n}\n"],"names":["parcelRequire","$ldBz7","document","querySelector","$f74e8630d9ee671a$var$myBtns","querySelectorAll","$f74e8630d9ee671a$var$paginationList","$f74e8630d9ee671a$var$btnsLib","$f74e8630d9ee671a$export$4a2b9da746179d46","page","localStorage","getItem","renderDefaulMarkup","allItemsFromLocaleStorage","JSON","parse","total_pages","Math","ceil","length","console","log","itemsFromLocaleStorage","end","start","arr","i","push","$f74e8630d9ee671a$var$getItemsByPage","renderGalleryMarkup","$8huCE","renderPagination","$f74e8630d9ee671a$var$onClickMyBtn","e","Number","currentTarget","dataset","addEventListener","preventDefault","target","nodeName","classList","contains","parsedWatched","parsedQueue","forEach","btn"],"version":3,"file":"library.73eefda1.js.map"}