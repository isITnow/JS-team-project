!function(){var e="https://api.themoviedb.org/3",t="api_key=d70849b39c7b399ded2dffef6ee1baa4";var n=document.querySelector(".gallery__list");var a;fetch("".concat(e,"/genre/movie/list?").concat(t,"&language=en-US")).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).catch((function(e){return console.log(e)})).then((function(e){return localStorage.setItem("genresData",JSON.stringify(e.genres))})),(a=1,fetch("".concat(e,"/trending/movie/week?&").concat(t,"&page=").concat(a)).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){return t=e.results,a=t.reduce((function(e,t){var n=t.id,a=t.poster_path,o=t.name,c=t.title,r=t.release_date,l=t.vote_average,i=t.genre_ids,s=[];return JSON.parse(localStorage.getItem("genresData")).forEach((function(e){i.includes(e.id)&&s.push(e.name)})),e+'<li class="gallery__item" id='.concat(n,'>\n          <a class="gallery__link" href="//">\n              <img class="gallery__image" src="https://image.tmdb.org/t/p/original').concat(a,'" alt="').concat(c||o,'" width="100"/>\n              <h2 class="gallery__title">').concat(c||o,"</h2>\n              <p>").concat(s.length>3?s.splice(0,2).join(", ")+", Others":s.join(", "),'</p>\n                  <p class="gallery__release">').concat(r.slice(0,4),'</p>\n                  <span class="gallery__rating">').concat(l.toFixed(1),"</span>\n           </a>\n              </li>")}),""),void(n.innerHTML=a);var t,a})),function(){var e={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};function t(){e.modal.classList.toggle("is-hidden")}e.openModalBtn.addEventListener("click",t),e.closeModalBtn.addEventListener("click",t)}()}();
//# sourceMappingURL=index.7252e846.js.map
