{"mappings":"iiBACAA,EAAA,S,+BCAAC,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAiBC,GAEb,OAAOA,GAAOA,EAAIC,cAAgBC,OAAS,gBAAkBF,G,6CCF3DG,G,aADcC,SAASC,cAAc,kBAC5BD,SAASE,iBAAiB,qBACnCC,EAAiBH,SAASC,cAAc,0BACxCG,EAAUJ,SAASC,cAAc,iBAQhC,SAASI,I,IAAoBC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAAQA,UAAA,GAAD,EACzC,GAAKE,aAAaC,QAAQ,iBAA1B,CAGA,IAAMC,EAA4BC,KAAKC,MAAMJ,aAAaC,QAAQ,kBAC9DI,EAAeC,KAAKC,KAAKL,EAA0BH,OAAS,GAChES,QAAQC,SAAsB,IAAXJ,EAAW,YAAlBK,EAAA1B,EAAA,CAAOqB,IACnB,IAAIM,EAAyBC,EAAef,EAAKQ,EAAYH,GAC7DM,QAAQC,IAAIE,IACZ,EAAAE,EAAAC,qBAAoBH,EAAwB,iBAC5C,EAAAI,EAAAC,kBAAiBnB,EAAKc,EAAwBN,IAoBhD,SAASY,EAAaC,GACpBrB,KAAOsB,OAAOD,EAAEE,cAAcC,QAAQxB,MACtCD,EAAoBC,MAYtB,SAASe,EAAef,EAAKQ,EAAYH,GACxCM,QAAQC,IAAIP,GACZ,IAAIoB,EAAM,EACNC,EAAQ,EACT1B,IAASQ,GAAwB,IAATR,IACxB0B,GAAgBD,EAChBA,EAAMpB,EAA0BH,OAAS,EAAIuB,GAE/C,IAAIE,EAAM,GACVhB,QAAQC,IAAIc,EAAMD,EAAKpB,EAA0BH,QAC/C,IAAI,IAAI0B,EAAIF,EAAOE,EAAIH,EAAKG,IAC1BD,EAAIE,KAAKxB,EAA0BuB,IAEvC,OAAOD,EA/DT9B,EAAeiC,iBAAiB,SAwChC,SAA6BT,GAG3B,GAFAA,EAAEU,iBAEwB,OAAtBV,EAAEW,OAAOC,SACX,OAGFlC,EAAoBC,SA9CtBF,EAAQgC,iBAAiB,SAmBzB,SAAuBT,GACrB,GAAIA,EAAEW,OAAOE,UAAUC,SAAS,kBAC1BhC,aAAaC,QAAQ,iBAAkB,CACzC,IAAMgC,EAAgB9B,KAAKC,MAAMJ,aAAaC,QAAQ,mBACtD,EAAAY,EAAAC,qBAAoBmB,EAAe,gBAIvC,GAAIf,EAAEW,OAAOE,UAAUC,SAAS,gBAC1BhC,aAAaC,QAAQ,eAAgB,CACvC,IAAMiC,EAAc/B,KAAKC,MAAMJ,aAAaC,QAAQ,iBACpD,EAAAY,EAAAC,qBAAoBoB,EAAa,kBA5BvC5C,EAAO6C,SAAQ,SAAAC,GAAQA,EAAIT,iBAAiB,QAASV,MFJrDrB,I","sources":["src/library.js","node_modules/@swc/helpers/lib/_type_of.js","src/js/library/libraryFunctions.js"],"sourcesContent":["// import './js/pagination/pagination';\nimport './js/library/local-storage-theme';\nimport './js/spinner';\nimport './js/modal/modal-footer';\nimport {libraryMovieCreator} from './js/library/libraryFunctions';\n\n\n\nlibraryMovieCreator()\n\n\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _typeof;\nfunction _typeof(obj) {\n    \"@swc/helpers - typeof\";\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n}\n;\n","import { renderGalleryMarkup } from '../home/renderGalleryMarkup';\nimport { renderMovieMarkup } from '../renderModal';\nimport '../pagination/pagination'\nimport { renderPagination } from '../pagination/pagination';\nconst galleryList = document.querySelector('.gallery__list');\nconst myBtns = document.querySelectorAll('.pagination__btn');\nconst paginationList = document.querySelector('.pagination__container')\nconst btnsLib = document.querySelector('.buttons-list');\n\npaginationList.addEventListener('click', onClickMyPagination);\nbtnsLib.addEventListener('click', onLibBtnClick);\n\nmyBtns.forEach(btn => {btn.addEventListener('click', onClickMyBtn)});\n\n\nexport function libraryMovieCreator(page = 1) {\n  if (!localStorage.getItem('watchedMovies')) {\n    return;\n  }\n  const allItemsFromLocaleStorage = JSON.parse(localStorage.getItem('watchedMovies'));\n  let total_pages =  Math.ceil(allItemsFromLocaleStorage.length / 9)\n  console.log(typeof total_pages)\n  let itemsFromLocaleStorage = getItemsByPage(page,total_pages,allItemsFromLocaleStorage)\n  console.log(itemsFromLocaleStorage)\n  renderGalleryMarkup(itemsFromLocaleStorage, 'data-watched');\n  renderPagination(page,itemsFromLocaleStorage, total_pages)\n\n}\n\nfunction onLibBtnClick(e) {\n  if (e.target.classList.contains('js-watchedBtn')) {\n    if (localStorage.getItem('watchedMovies')) {\n      const parsedWatched = JSON.parse(localStorage.getItem('watchedMovies'));\n      renderGalleryMarkup(parsedWatched, 'data-watched');\n    }\n  }\n\n  if (e.target.classList.contains('js-queueBtn')) {\n    if (localStorage.getItem('queueMovies')) {\n      const parsedQueue = JSON.parse(localStorage.getItem('queueMovies'));\n      renderGalleryMarkup(parsedQueue, 'data-queue');\n    }\n  }\n}\n\nfunction onClickMyBtn(e) {\n  page = Number(e.currentTarget.dataset.page)\n  libraryMovieCreator(page)\n}\nfunction onClickMyPagination(e) {\n  e.preventDefault();\n  // scrollToTop();\n  if (e.target.nodeName !== 'LI') {\n    return;\n  }\n  \n  libraryMovieCreator(page)\n}\n\nfunction getItemsByPage(page,total_pages,allItemsFromLocaleStorage) {\n console.log(allItemsFromLocaleStorage)\n let end = 9\n let start = 0\n if(page === total_pages && page !== 1) {\n    start = start + end\n    end = allItemsFromLocaleStorage.length % 9 + end\n }\n  let arr = []\n  console.log(start,end, allItemsFromLocaleStorage.length)\n    for(let i = start; i < end; i++){\n      arr.push(allItemsFromLocaleStorage[i])\n      }\n  return arr\n}\n\n"],"names":["parcelRequire","Object","defineProperty","$f59351132b4b3cee$exports","value","default","obj","constructor","Symbol","$d82793e3178ffec1$var$myBtns","document","querySelector","querySelectorAll","$d82793e3178ffec1$var$paginationList","$d82793e3178ffec1$var$btnsLib","$d82793e3178ffec1$export$4a2b9da746179d46","page","arguments","length","localStorage","getItem","allItemsFromLocaleStorage","JSON","parse","total_pages","Math","ceil","console","log","$parcel$interopDefault","itemsFromLocaleStorage","$d82793e3178ffec1$var$getItemsByPage","$1uIgm","renderGalleryMarkup","$bOuzt","renderPagination","$d82793e3178ffec1$var$onClickMyBtn","e","Number","currentTarget","dataset","end","start","arr","i","push","addEventListener","preventDefault","target","nodeName","classList","contains","parsedWatched","parsedQueue","forEach","btn"],"version":3,"file":"library.02084b79.js.map"}