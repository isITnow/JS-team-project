{"mappings":"YAAA,IAAMA,EAAW,+BACXC,EAAU,2CCAhB,IAAMC,EAAcC,SAASC,cAAc,kBCG3C,IFD8BC,EAYrBC,MAAM,GAAgCC,OAA7BP,EAAS,sBAA4BO,OAARN,EAAQ,oBAClDO,MAAK,SAAAC,GACJ,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,QAEvB,OAAOH,EAAKI,UAEbC,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,MEjBlBP,MAAK,SAAAU,G,OACjBC,aAAaC,QAAQ,aAAcC,KAAKC,UAAUJ,EAAKK,aFH3BlB,EECnB,EFAFC,MAAM,GAAoCC,OAAjCP,EAAS,0BAAwCO,OAAhBN,EAAQ,UAAaM,OAALF,IAC9DG,MAAK,SAAAC,GACJ,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,QAEvB,OAAOH,EAAKI,UAEbC,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,OEHZP,MAAK,SAAAU,G,ODLWM,ECKiBN,EAAKO,QDJhDC,EAASF,EAAIG,QACjB,SACEC,EAAGC,G,IACDC,EAAED,EAAFC,GAAIC,EAAWF,EAAXE,YAAaC,EAAIH,EAAJG,KAAMC,EAAKJ,EAALI,MAAOC,EAAYL,EAAZK,aAAcC,EAAYN,EAAZM,aAAcC,EAASP,EAATO,UAEtDC,EAAgB,GAOtB,OANehB,KAAKiB,MAAMnB,aAAaoB,QAAQ,eACxCC,SAAQ,SAAAC,GACTL,EAAUM,SAASD,EAAKX,KAC1BO,EAAcM,KAAKF,EAAKT,SAI1BJ,EACA,gCAE0ErB,OAF1CuB,EAAG,wIAGjCvB,OADwEwB,EAAY,WAGrDxB,OAF/B0B,GAASD,EACV,8DAEQzB,OADwB0B,GAASD,EAAK,4BAETzB,OAD7B8B,EAAcO,OAAO,EAAEP,EAAeQ,OAAO,EAAE,GAAGC,KAAK,MAAQ,WAAWT,EAAcS,KAAK,MAAM,wDAEpEvC,OADF2B,EAAaa,MAAM,EAAG,GAAG,0DACCxC,OAAxB4B,EAAaa,QAAQ,GAAG,mDAKpE,SAEF9C,EAAY+C,UAAYvB,GA9BrB,IAA6BF,EAC1BE,KEHMvB,SAASC,cAAc,kBAE/B8C,iBAAiB,UAMzB,SAAwBC,GACtBA,EAAIC,iBACJpC,QAAQC,IAAIkC,MAJdnC,QAAQC,IAAI,mBCPX,WACC,IAAMoC,EAAO,CACXC,aAAcnD,SAASC,cAAc,qBACrCmD,cAAepD,SAASC,cAAc,sBACtCoD,MAAOrD,SAASC,cAAc,iBAMhC,SAASqD,IACPJ,EAAKG,MAAME,UAAUC,OAAO,aAJ9BN,EAAKC,aAAaJ,iBAAiB,QAASO,GAC5CJ,EAAKE,cAAcL,iBAAiB,QAASO,GAR9C,G","sources":["src/js/api/fetch.js","src/js/home/renderGalleryMarkup.js","src/js/home/filmsByPopular.js","src/js/home/searchByQuery.js","src/js/modal/modal-footer.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'api_key=d70849b39c7b399ded2dffef6ee1baa4';\n\nexport function fetchTrending(page) {\n  return fetch(`${BASE_URL}/trending/movie/week?&${API_KEY}&page=${page}`)\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error(resp.status);\n      }\n      return resp.json();\n    })\n    .catch(error => console.log(error));\n}\n\nexport function fetchGenres() {\n  return fetch(`${BASE_URL}/genre/movie/list?${API_KEY}&language=en-US`)\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error(resp.status);\n      }\n      return resp.json();\n    })\n    .catch(error => console.log(error));\n}\n\nexport function fetсhByQuery(query, page) {\n  return fetch(\n    `${BASE_URL}/search/movie?${API_KEY}&language=en-US&page=${page}&include_adult=false&query=${query}`\n  )\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error(resp.status);\n      }\n      return resp.json();\n    })\n    .catch(error => console.log(error));\n}\n\nexport function fetchByID(id) {\n  return fetch(`${BASE_URL}/movie/${id}?${API_KEY}&language=en-US`)\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error(resp.status);\n      }\n      return resp.json();\n    })\n    .catch(error => console.log(error));\n}\n","\nconst galleryItem = document.querySelector('.gallery__list');\n\nexport function renderGalleryMarkup(arr) {\n    const markup = arr.reduce(\n      (\n        acc,\n        { id, poster_path, name, title, release_date, vote_average, genre_ids }\n      ) => {\n        const currentGenres = [];\n        const genres = JSON.parse(localStorage.getItem('genresData'));\n        genres.forEach(item => {\n          if (genre_ids.includes(item.id)) {\n            currentGenres.push(item.name);\n          }\n        });\n        return (\n          acc +\n          `<li class=\"gallery__item\" id=${id}>\n          <a class=\"gallery__link\" href=\"//\">\n              <img class=\"gallery__image\" src=\"https://image.tmdb.org/t/p/original${poster_path}\" alt=\"${\n            title || name\n          }\" width=\"100\"/>\n              <h2 class=\"gallery__title\">${title || name}</h2>\n              <p>${currentGenres.length>3?(currentGenres.splice(0,2).join(', '))+ ', Others':currentGenres.join(', ')}</p>\n                  <p class=\"gallery__release\">${release_date.slice(0, 4)}</p>\n                  <span class=\"gallery__rating\">${vote_average.toFixed(1)}</span>\n           </a>\n              </li>`\n        );\n      },\n      ''\n    );\n    galleryItem.innerHTML = markup;\n  }","import { fetchTrending } from '../api/fetch';\nimport { fetchGenres } from '../api/fetch';\nimport { renderGalleryMarkup } from './renderGalleryMarkup';\n\nlet page = 1;\nfetchGenres().then(data =>\n  localStorage.setItem('genresData', JSON.stringify(data.genres))\n);\nfetchTrending(page).then(data => renderGalleryMarkup(data.results));\n","import { fetсhByQuery } from '../api/fetch';\nconst inputEl = document.querySelector('.search__input');\n\ninputEl.addEventListener('submit', onSearchSubmit);\nlet page = 1;\nlet query = '';\n\nconsole.log('SEARCH BY QUERY');\n\nfunction onSearchSubmit(evt) {\n  evt.preventDefault();\n  console.log(evt);\n}\n","(() => {\n  const refs = {\n    openModalBtn: document.querySelector('[data-modal-open]'),\n    closeModalBtn: document.querySelector('[data-modal-close]'),\n    modal: document.querySelector('[data-modal]'),\n  };\n\n  refs.openModalBtn.addEventListener('click', toggleModal);\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n\n  function toggleModal() {\n    refs.modal.classList.toggle('is-hidden');\n  }\n})();\n"],"names":["$4594b7e5ec101adf$var$BASE_URL","$4594b7e5ec101adf$var$API_KEY","$116aed76188442a0$var$galleryItem","document","querySelector","page","fetch","concat","then","resp","ok","Error","status","json","catch","error","console","log","data","localStorage","setItem","JSON","stringify","genres","arr","results","markup","reduce","acc","param","id","poster_path","name","title","release_date","vote_average","genre_ids","currentGenres","parse","getItem","forEach","item","includes","push","length","splice","join","slice","toFixed","innerHTML","addEventListener","evt","preventDefault","refs","openModalBtn","closeModalBtn","modal","toggleModal","classList","toggle"],"version":3,"file":"index.1cce6f5d.js.map"}